{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-e6feba3e5cda4f68.js","main.js","detect_changes_websocket.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","vector.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"26170a8763aff760\";\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function accept(fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function dispose(fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData = undefined;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, acceptedAssets\n/*: {|[string]: boolean|} */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // $FlowFixMe\n\n  ws.onmessage = function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    acceptedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      var assets = data.assets.filter(function (asset) {\n        return asset.envHash === HMR_ENV_HASH;\n      }); // Handle HMR Update\n\n      var handled = assets.every(function (asset) {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear();\n        assets.forEach(function (asset) {\n          hmrApply(module.bundle.root, asset);\n        });\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      var _iterator = _createForOfIteratorHelper(data.diagnostics.ansi),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var ansiDiagnostic = _step.value;\n          var stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n          console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  var errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  var _iterator2 = _createForOfIteratorHelper(diagnostics),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var diagnostic = _step2.value;\n      var stack = diagnostic.codeframe ? diagnostic.codeframe : diagnostic.stack;\n      errorHTML += \"\\n      <div>\\n        <div style=\\\"font-size: 18px; font-weight: bold; margin-top: 20px;\\\">\\n          \\uD83D\\uDEA8 \".concat(diagnostic.message, \"\\n        </div>\\n        <pre>\").concat(stack, \"</pre>\\n        <div>\\n          \").concat(diagnostic.hints.map(function (hint) {\n        return '<div>💡 ' + hint + '</div>';\n      }).join(''), \"\\n        </div>\\n        \").concat(diagnostic.documentation ? \"<div>\\uD83D\\uDCDD <a style=\\\"color: violet\\\" href=\\\"\".concat(diagnostic.documentation, \"\\\" target=\\\"_blank\\\">Learn more</a></div>\") : '', \"\\n      </div>\\n    \");\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(window.location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    var deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        var oldDeps = modules[asset.id][1];\n\n        for (var dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            var id = oldDeps[dep];\n            var parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      var fn = new Function('require', 'module', 'exports', asset.output);\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    var deps = modules[id][1];\n    var orphans = [];\n\n    for (var dep in deps) {\n      var parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(function (id) {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  var parents = getParents(module.bundle.root, id);\n  var accepted = false;\n\n  while (parents.length > 0) {\n    var v = parents.shift();\n    var a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      var p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push.apply(parents, _toConsumableArray(p));\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToAccept.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n}\n\nfunction hmrAcceptRun(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n  cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n\n  acceptedAssets[id] = true;\n}","// @flow\n\nimport { connectWebsocket } from './detect_changes_websocket.js'\nimport { Vector } from './vector.js'\n\nasync function init () {\n  const anchorText = window.location.hash.substr(1)\n  const select = getShaderSelectElement()\n\n  const camera = new Camera(0, 1, 0)\n\n  if (anchorText) {\n    setSelectedOption(select, anchorText)\n  }\n\n  const canvas = document.getElementById('glscreen')\n  if (!(canvas instanceof window.HTMLCanvasElement)) {\n    throw Error(\"Canvas isn't a canvas\")\n  }\n\n  const animation = new ShaderAnimation(canvas, camera)\n\n  await selectFragmentShader(animation, select)\n\n  animation.renderLoop()\n\n  window.selectFragmentShader = (select) => selectFragmentShader(animation, select)\n  window.refetchCode = () => refetchCode(animation)\n  window.textareaUpdated = () => textareaUpdated(animation)\n\n  if (isLocalhost(window.location.hostname)) {\n    connectWebsocket((filename) => handleCodeChange(animation, filename))\n  }\n\n  canvas.addEventListener('click', () => canvas.requestPointerLock())\n  canvas.addEventListener('mousemove', (event) => camera.handleMouseMove(event))\n  window.document.addEventListener('keydown', (event) => camera.handleKeyDown(event))\n  window.document.addEventListener('keyup', (event) => camera.handleKeyUp(event))\n  window.setInterval(() => camera.tick(), 50)\n}\n\nconst KEY_MAP = new Map()\nKEY_MAP.set('ArrowUp', new Vector(0, 0, -1))\nKEY_MAP.set('ArrowDown', new Vector(0, 0, 1))\nKEY_MAP.set('ArrowLeft', new Vector(-1, 0, 0))\nKEY_MAP.set('ArrowRight', new Vector(1, 0, 0))\nKEY_MAP.set(',', new Vector(0, 0, -1))\nKEY_MAP.set('w', new Vector(0, 0, -1))\nKEY_MAP.set('o', new Vector(0, 0, 1))\nKEY_MAP.set('s', new Vector(0, 0, 1))\nKEY_MAP.set('a', new Vector(-1, 0, 0))\nKEY_MAP.set('e', new Vector(1, 0, 0))\nKEY_MAP.set('d', new Vector(1, 0, 0))\n\nexport class Camera {\n  /* :: _position : Vector */\n  /* :: velocity : Vector */\n  /* :: rotation : { x: number, y: number } */\n\n  constructor (x, y, z) {\n    this._position = new Vector(x, y, z)\n    this.velocity = new Vector(0, 0, 0)\n    this.rotation = { x: 0, y: 0 }\n  }\n\n  get position () {\n    return [this._position.x, this._position.y, this._position.z]\n  }\n\n  tick () {\n    this._position = this._position.add(this.velocity.scale(0.2).rotateY(this.rotation.y))\n  }\n\n  handleMouseMove (event) {\n    if (document.pointerLockElement) {\n      this.rotation.y += event.movementX / 100\n      this.rotation.x += event.movementY / 100\n    }\n  }\n\n  handleKeyDown (event) {\n    if (event.repeat) {\n      return\n    }\n    if (!document.pointerLockElement) {\n      return\n    }\n    const direction = KEY_MAP.get(event.key)\n    if (direction) {\n      this.velocity = this.velocity.add(direction)\n    }\n  }\n\n  handleKeyUp (event) {\n    if (!document.pointerLockElement) {\n      return\n    }\n    const direction = KEY_MAP.get(event.key)\n    if (direction) {\n      this.velocity = this.velocity.subtract(direction)\n    }\n  }\n}\n\n// window.onload = init\n\nasync function selectFragmentShader (shaderAnimation, select /*: HTMLSelectElement */) {\n  const selectedProgram = select.selectedOptions[0].value\n\n  window.location.hash = '#' + selectedProgram\n  const shaderResponse = await window.fetch(selectedProgram)\n  const shaderSource = await shaderResponse.text()\n\n  getShaderSourceTextArea().value = shaderSource\n\n  changeFragmentShader(shaderAnimation, shaderSource)\n}\n\nfunction changeFragmentShader (shaderAnimation, shaderSource) {\n  const uniformContainer = getElementByIdTyped('uniforms', window.HTMLUListElement)\n  const uniforms = extractUniforms(shaderSource)\n  addUniformElements(uniformContainer, uniforms)\n  shaderAnimation.updateFragmentShader(shaderSource, uniforms)\n}\n\nasync function refetchCode (shaderAnimation) {\n  await selectFragmentShader(\n    shaderAnimation,\n    getShaderSelectElement())\n}\n\nasync function textareaUpdated (shaderAnimation) {\n  console.log('Recompiling from textarea.')\n  changeFragmentShader(shaderAnimation, getShaderSourceTextArea().value)\n}\n\nexport class ShaderAnimation {\n  /* :: startTime: number */\n  /* :: lastTime: number */\n  /* :: frames: number */\n  /* :: canvas: HTMLCanvasElement */\n  /* :: gl: WebGLRenderingContext */\n  /* :: program: any */\n  /* :: uniforms: Array<string> */\n  /* :: camera: Camera */\n\n  constructor (canvas /*: HTMLCanvasElement */, camera /* : Camera */) {\n    this.startTime = window.performance.now()\n    this.lastTime = this.startTime\n    this.frames = 0\n\n    this.canvas = canvas\n    this.camera = camera\n\n    const gl = canvas.getContext('experimental-webgl')\n    if (!(gl instanceof window.WebGLRenderingContext)) {\n      throw Error(\"Didn't get a WebGL context.\")\n    }\n    this.gl = gl\n    canvas.width = 800\n    canvas.height = 600\n\n    this.gl.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight)\n\n    this.bindQuadFillingScreen()\n\n    this.program = null\n    this.uniforms = []\n  }\n\n  renderLoop () {\n    window.requestAnimationFrame(() => this.renderLoop(), this.canvas)\n\n    if (this.program) {\n      const time = (window.performance.now() - this.startTime) / 1000\n      this.render(time)\n\n      if (this.frames >= 100) {\n        // getFPSSpan().textContent = Math.round(this.frames / (time - this.lastTime)).toString()\n\n        this.frames = 0\n        this.lastTime = time\n      }\n\n      this.frames += 1\n    }\n  }\n\n  render (time) {\n    const gl = this.gl\n    const program = this.program\n\n    const positionLocation = gl.getAttribLocation(program, 'a_position')\n    gl.enableVertexAttribArray(positionLocation)\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0)\n\n    const timeLocation = gl.getUniformLocation(program, 'time')\n    gl.uniform1f(timeLocation, time)\n\n    const resolutionUniform = gl.getUniformLocation(program, 'resolution')\n    gl.uniform2fv(resolutionUniform, ([this.canvas.width, this.canvas.height] /* : [number, number] */))\n\n    const cameraPositionLocation = gl.getUniformLocation(program, 'camera_position')\n    gl.uniform3fv(cameraPositionLocation, (this.camera.position /* : [number, number, number] */))\n\n    const cameraRotationLocation = gl.getUniformLocation(program, 'camera_rotation')\n    gl.uniform2fv(cameraRotationLocation, ([this.camera.rotation.x, this.camera.rotation.y] /* : [number, number] */))\n\n    for (const uniform of this.uniforms) {\n      const uniformLocation = gl.getUniformLocation(program, uniform)\n      const color = colorToVec(getInputElement(uniform).value)\n      gl.uniform3fv(uniformLocation, color)\n    }\n\n    gl.clearColor(1.0, 0.0, 0.0, 1.0)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n    gl.drawArrays(gl.TRIANGLES, 0, 6)\n  }\n\n  updateFragmentShader (shaderSource, uniforms) {\n    const gl = this.gl\n\n    const vertexShader = this.compileShader(\n      gl.VERTEX_SHADER,\n      vertexShaderText)\n\n    const fragmentShader = this.compileShader(\n      gl.FRAGMENT_SHADER,\n      shaderSource\n    )\n\n    this.uniforms = uniforms\n\n    const program = gl.createProgram()\n    if (!program) {\n      throw Error('Failed to create program.')\n    }\n    gl.attachShader(program, vertexShader)\n    gl.attachShader(program, fragmentShader)\n    gl.linkProgram(program)\n\n    gl.validateProgram(program)\n\n    const errorLog = getDivElement('errors')\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      const info = gl.getProgramInfoLog(program)\n      errorLog.textContent = info || 'missing program error log'\n      return\n    }\n    errorLog.textContent = ''\n\n    gl.useProgram(program)\n    this.program = program\n  }\n\n  bindQuadFillingScreen () {\n    const buffer = this.gl.createBuffer()\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer)\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array([\n        -1.0, -1.0,\n        1.0, -1.0,\n        -1.0, 1.0,\n        -1.0, 1.0,\n        1.0, -1.0,\n        1.0, 1.0]),\n      this.gl.STATIC_DRAW\n    )\n  }\n\n  compileShader (shaderType, source) {\n    const shader = this.gl.createShader(shaderType)\n    if (!shader) {\n      throw Error('Failed to create shader')\n    }\n    this.gl.shaderSource(shader, source)\n    this.gl.compileShader(shader)\n    return shader\n  }\n}\n\nfunction addUniformElements (uniformContainer /* : HTMLDivElement */, uniforms) {\n  while (uniformContainer.lastChild) {\n    uniformContainer.removeChild(uniformContainer.lastChild)\n  }\n\n  for (const uniform of uniforms) {\n    const element = uniformControlElement(uniform)\n    uniformContainer.appendChild(element)\n  }\n}\n\nfunction uniformControlElement (uniform) {\n  const li = document.createElement('li')\n\n  const label = document.createElement('label')\n  label.textContent = uniform\n\n  const input = document.createElement('input')\n  input.id = uniform\n  input.type = 'color'\n\n  li.appendChild(label)\n  li.appendChild(input)\n\n  return li\n}\n\nfunction handleCodeChange (shaderAnimation, filename) {\n  if (filename.endsWith('.frag')) {\n    const select = getShaderSelectElement()\n    setSelectedOption(select, filename)\n    selectFragmentShader(shaderAnimation, select)\n  } else {\n    window.location.reload(true)\n  }\n}\n\nfunction isLocalhost (hostname) {\n  return hostname === '0.0.0.0' || hostname === 'localhost' || hostname === '127.0.0.1'\n}\n\nfunction colorToVec (colorString /* : string */) /* : [number, number, number] */ {\n  const r = parseInt('0x' + colorString.substr(1, 2))\n  const g = parseInt('0x' + colorString.substr(3, 2))\n  const b = parseInt('0x' + colorString.substr(5, 2))\n  return [r / 255, g / 255, b / 255]\n}\n\nfunction extractUniforms (source) {\n  const uniforms = []\n  for (const line of source.split('\\n')) {\n    if (line.startsWith('uniform vec3')) {\n      const uniformName = line.split(';')[0].split(' ')[2]\n      if (uniformName.indexOf('COLOR') >= 0) {\n        uniforms.push(uniformName)\n      }\n    }\n  }\n  return uniforms\n}\n\nfunction setSelectedOption (select /* : HTMLSelectElement */, value) {\n  for (const option of select.options) {\n    if (option.text === value) {\n      option.selected = true\n    }\n  }\n}\n\nfunction getShaderSourceTextArea () /* HTMLTextAreaElement */ {\n  return window.document.getElementById('shader_source')\n}\n\nfunction getShaderSelectElement () /* : HTMLSelectElement */ {\n  return getElementByIdTyped('shader-selection', window.HTMLSelectElement)\n}\n\nfunction getFPSSpan () /* : HTMLSpanElement */ {\n  return getElementByIdTyped('fps', window.HTMLSpanElement)\n}\n\nfunction getInputElement (id) /* : HTMLInputElement */ {\n  return getElementByIdTyped(id, window.HTMLInputElement)\n}\n\nconst vertexShaderText = `#version 100\n\nattribute vec2 a_position;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0, 1);\n}\n`\n\nfunction getDivElement (id) /* : HTMLDivElement */ {\n  return getElementByIdTyped(id, window.HTMLDivElement)\n}\n\nfunction getElementByIdTyped (id, type) {\n  const element = document.getElementById(id)\n  if (!(element instanceof type)) {\n    throw Error('Unexpected HTMLElement ' + element)\n  }\n  return element\n}\n","export function connectWebsocket (handleCodeChange) {\n  const socket = new window.WebSocket('ws://localhost:5555/changes')\n  socket.onopen = function (e) {\n    console.log('[open] Websocket connection established')\n  }\n\n  socket.onmessage = function (event) {\n    const filename = event.data\n    console.log('Got code change message for: ', filename)\n    handleCodeChange(filename)\n  }\n\n  socket.onclose = function (event) {\n    if (event.wasClean) {\n      console.log(`[close] Connection closed cleanly, code=${event.code} reason=${event.reason}`)\n    } else {\n      // e.g. server process killed or network down\n      // event.code is usually 1006 in this case\n      console.log('[close] Connection died')\n    }\n  }\n\n  socket.onerror = function (error) {\n    console.log(`[websocket error] ${error.message}`)\n  }\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","// @flow\n\nexport class Vector {\n  /* :: x : number */\n  /* :: y : number */\n  /* :: z : number */\n  constructor (x /* : number */, y /* : number */, z /* : number */) {\n    this.x = x\n    this.y = y\n    this.z = z\n  }\n\n  add (other /* : Vector */) /* : Vector */ {\n    return new Vector(this.x + other.x, this.y + other.y, this.z + other.z)\n  }\n\n  subtract (other /* : Vector */) /* : Vector */ {\n    return new Vector(this.x - other.x, this.y - other.y, this.z - other.z)\n  }\n\n  scale (factor /* : number */) /* : Vector */ {\n    return new Vector(factor * this.x, factor * this.y, factor * this.z)\n  }\n\n  rotateY (theta /* : number */) /* : Vector */ {\n    return new Vector(Math.cos(theta) * this.x - Math.sin(theta) * this.z, this.y, Math.sin(theta) * this.x + Math.cos(theta) * this.z)\n  }\n}\n"],"names":["HMR_HOST","HMR_PORT","HMR_SECURE","HMR_ENV_HASH","module","bundle","HMR_BUNDLE_ID","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","_createForOfIteratorHelper","o","allowArrayLike","it","length","i","F","s","n","done","value","e","_e","f","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","Object","prototype","toString","slice","constructor","name","test","len","arr2","OVERLAY_ID","OldModule","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","undefined","checkedAssets","acceptedAssets","assetsToAccept","getHostname","location","protocol","indexOf","hostname","getPort","port","parent","isParcelRequire","WebSocket","ws","onmessage","event","JSON","parse","type","document","removeErrorOverlay","assets","filter","asset","envHash","handled","every","hmrAcceptCheck","root","id","depsByBundle","console","clear","forEach","hmrApply","hmrAcceptRun","window","reload","_iterator","diagnostics","ansi","_step","ansiDiagnostic","stack","codeframe","error","message","hints","join","overlay","createErrorOverlay","html","body","appendChild","onerror","onclose","warn","getElementById","remove","log","createElement","errorHTML","_iterator2","_step2","diagnostic","concat","map","hint","documentation","innerHTML","getParents","modules","parents","k","d","dep","updateLink","link","newLink","cloneNode","onload","parentNode","removeChild","setAttribute","getAttribute","split","Date","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","href","servedFromHMRServer","RegExp","absolute","origin","deps","oldDeps","hmrDelete","Function","output","orphans","cache","hmrAcceptCheckOne","accepted","v","shift","a","p","apply","cached","cb","assetsToAlsoAccept","connectWebsocket","Vector","init","anchorText","hash","substr","select","getShaderSelectElement","camera","Camera","setSelectedOption","canvas","HTMLCanvasElement","Error","animation","ShaderAnimation","selectFragmentShader","renderLoop","refetchCode","textareaUpdated","isLocalhost","filename","handleCodeChange","addEventListener","requestPointerLock","handleMouseMove","handleKeyDown","handleKeyUp","setInterval","tick","KEY_MAP","Map","set","x","y","z","_position","velocity","rotation","position","add","scale","rotateY","pointerLockElement","movementX","movementY","repeat","direction","get","key","subtract","shaderAnimation","selectedProgram","selectedOptions","shaderResponse","fetch","shaderSource","text","getShaderSourceTextArea","changeFragmentShader","uniformContainer","getElementByIdTyped","HTMLUListElement","uniforms","extractUniforms","addUniformElements","updateFragmentShader","startTime","performance","lastTime","frames","gl","getContext","WebGLRenderingContext","width","height","viewport","drawingBufferWidth","drawingBufferHeight","bindQuadFillingScreen","program","requestAnimationFrame","time","render","positionLocation","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","timeLocation","getUniformLocation","uniform1f","resolutionUniform","uniform2fv","cameraPositionLocation","uniform3fv","cameraRotationLocation","uniform","uniformLocation","color","colorToVec","getInputElement","clearColor","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","vertexShader","compileShader","VERTEX_SHADER","vertexShaderText","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","validateProgram","errorLog","getDivElement","getProgramParameter","LINK_STATUS","info","getProgramInfoLog","textContent","useProgram","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","shaderType","source","shader","createShader","lastChild","element","uniformControlElement","li","label","input","endsWith","colorString","r","parseInt","g","b","line","startsWith","uniformName","option","options","selected","HTMLSelectElement","getFPSSpan","HTMLSpanElement","HTMLInputElement","HTMLDivElement","socket","onopen","wasClean","code","reason","other","factor","theta","Math","cos","sin"],"version":3,"file":"index.63aff760.js.map","sourceRoot":"/__parcel_source_root/"}